# 📥 데이터 수집

쿠팡 Open API는 자사 상품 정보 조회에 특화되어 있어, 다수의 타 판매자 상품 및 가격 비교 데이터를 확보하는 데 한계가 있었습니다.
이에 따라 직접 후보를 검색하고 선출하고 개별 상품에 대한 문의와 리뷰에 대해서는 크롤링을 통해 데이터를 수집했습니다.

## 🗳️ 수집 후보 선정

### 악용 판매자 후보 선정

#### 대표적인 악용 상품 기준 후보 선정

쿠팡의 위너 시스템 악용, 가품 문제는 뉴스에 나올 정도로 알려진 문제입니다.

현재도 문제가 있을 확률이 높으므로 해당 상품들을 후보로 선정했습니다.

1. 영양제
2. 마우스
3. 화장품

#### 옵션을 악용한 상품 기준 후보 선정

기본 박스 단위 상품을 개별로 판매를 하는데 개당 가격을 지나치게 비싸게 설정하는 경우가 많습니다.

1. 즉석밥
2. 라면
3. 과자

#### 다른 유통 채널 위주로 판매되는 상품 기준 후보 선정

국내 제품이지만 쿠팡이 아닌 유통 채널을 주로 사용하는 상품들로 정/가품을 판별하기 어렵습니다.

1. 화장품
2. 건강식품

#### 직구, 구매대행이 많은 상품 기준 후보 선정

쿠팡직구가 아닌 개별 판매자가 직구, 유통하는 상품들로 마찬가지로 정/가품을 판별하기 어렵습니다.

1. 전자제품
2. 건강식품

### 정상 판매자 수집

쿠팡에서 인기가 많은 상품들은 대부분 쿠팡에서 직매입하는 상품들로 쿠팡에서 직접 재고를 관리합니다.
이렇게 쿠팡에서만 관리하는 상품들은 아래와 같은 점에서 데이터 편향 방지 및 모델 변별력 향상을 위해 제외했습니다.

1. 로켓배송 지원으로 배송일이 1일로 고정
2. 판매자 정보에 대한 특성을 가질 수 없음
3. 상품 문의 응답에 대해서 응답자가 쿠팡으로 고정되고 쿠팡 AI가 답변하는 경우도 많음

따라서 이런 상품들을 제외하고 해당 상품 브랜드사가 운영하는 판매자, 이름이 알려진 유통사, 업력과 상품 응답이 좋은 판매자등 다양한 기준으로 판매자 데이터를 수집했습니다.

## 데이터 수집 방법

선별한 후보 상품, 카테고리까지는 직접 쿠팡 웹사이트를 통해 데이터를 수집했습니다.
자동화를 맡길 수 없던 부분이 쿠팡에서 직접 악성 판매자라는 걸 구별해주지 않기 때문에 의심되는 판매자는 수동 검수가 필요했습니다.
이 과정에서 리뷰, 상품문의, 상품 이미지, 판매자 브랜드샵에 공개된 정보를 보며 데이터를 수집했습니다.
휴리스틱한 기준으로 이런 판매자 상품이라면 악성 판매자로 의심되는 정황을 구별하는데 대략적인 정성적 판단 기준은 다음과 같습니다.

1. 리뷰가 많지 않음
2. 상품문의가 많지 않음
3. 퀄리티가 낮은 상품 이미지와 설명
4. 구체적이지 않고 상품 카테고리가 전문적으로 보이지 않은 브랜드샵
5. 가격이 다른 판매자에 비해 지나치게 싸거나 비싸게 설정
6. 가격을 저렴하게 보이기 위해 평균적인 배송비와 달리 가격을 지나치게 낮추고 배송비를 올리는 경우

개별적인 상품 문의와 리뷰, 판매자에 대한 세부 정보에 대해서는 DrissionPage 크롤러를 이용해 수집했습니다.
학습 용도를 위해서만 수집한 데이터이고 트래픽에 부담을 주지 않기 위해 한 상품당 30초 정도 텀을 두고 수집했습니다.

특정 판매자가 판매하는 상품들에 데이터가 몰리는 것을 피하기 위해 최대한 판매자가 겹치는 상품들은 제외했습니다.

## 데이터 수집 결과

데이터 구조에 대한 정보는 [데이터 스키마](schemas.md)에 정리되어 있습니다.

| 테이터 | 행 수 |
|------------|-----------|
| 판매자 | 401 |
| 상품 | 410 |
| 리뷰 | 8238 |
| 문의 | 5482 |

악성 판매자 189명, 정상 판매자 212명으로 1:1에 가깝게 구성했습니다.

수집한 데이터는 공개된 정보이긴 하지만 사업자의 개인정보가 포함되어있고 휴리스틱한 기준으로 구별한 악성 판매자이므로 틀릴 수 있습니다.

따라서 Supabase를 통해 데이터를 저장하고 Git에 별도로 데이터를 공개하지는 않았습니다.